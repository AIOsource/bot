# üöÄ Render.com Deployment Guide

## –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –°–æ–∑–¥–∞–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ó–∞–≥—Ä—É–∑–∏ –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞:
   ```
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git
   git push -u origin main
   ```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Render.com

1. –ó–∞–π–¥–∏ –Ω–∞ [render.com](https://render.com) –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è
2. –ù–∞–∂–º–∏ **New +** ‚Üí **Background Worker**
3. –ü–æ–¥–∫–ª—é—á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

## –®–∞–≥ 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞

### Build Settings:
- **Name:** news-bot (–∏–ª–∏ –ª—é–±–æ–µ)
- **Region:** Frankfurt (EU) –∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π
- **Branch:** main
- **Runtime:** Python 3
- **Build Command:** `pip install -r requirements.txt`
- **Start Command:** `python main.py`

### Environment Variables:

–î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–∂–º–∏ **Add Environment Variable**):

| Key | Value |
|-----|-------|
| `TELEGRAM_BOT_TOKEN` | –¢–≤–æ–π —Ç–æ–∫–µ–Ω –æ—Ç @BotFather |
| `PERPLEXITY_API_KEY` | API –∫–ª—é—á Perplexity |
| `BOT_PASSWORD` | –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1) |

## –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ secrets.py

–ò–∑–º–µ–Ω–∏ `secrets.py` —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```python
import os

TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN", "—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω")
PERPLEXITY_API_KEY = os.getenv("PERPLEXITY_API_KEY", "—Ç–≤–æ–π_–∫–ª—é—á")
BOT_PASSWORD = os.getenv("BOT_PASSWORD", "1")

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å
PERPLEXITY_API_BASE = "https://api.perplexity.ai"
PERPLEXITY_MODEL = "sonar"
CHECK_INTERVAL_MINUTES = 30
MAX_ARTICLES_PER_CHECK = 50
RELEVANCE_THRESHOLD = 0.6
LOG_LEVEL = "INFO"
LOG_FILE = "bot.log"
DB_PATH = "news_bot.db"

KEYWORDS = [
    "–∞–≤–∞—Ä–∏—è", "–ø—Ä–æ—Ä—ã–≤", "–∑–∞—Ç–æ–ø–ª–µ–Ω–∏–µ", "–Ω–∞—Å–æ—Å", "–≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ",
    "–∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏—è", "–ñ–ö–•", "–∫–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è –∞–≤–∞—Ä–∏—è", "–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥—ã",
    "–ø–æ—Ä—ã–≤ —Ç—Ä—É–±—ã", "—É—Ç–µ—á–∫–∞", "–≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥", "–¥—Ä–µ–Ω–∞–∂", "–æ—Ç–∫–∞—á–∫–∞"
]
```

## –®–∞–≥ 5: –î–µ–ø–ª–æ–π

1. –ù–∞–∂–º–∏ **Create Background Worker**
2. –î–æ–∂–¥–∏—Å—å —Å–±–æ—Ä–∫–∏ (2-3 –º–∏–Ω—É—Ç—ã)
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **Logs**

## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

- **–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞:** Background Worker (–ù–ï Web Service!)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite —Ñ–∞–π–ª –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—Å—è
- **–ö–∞—Ä—Ç–∏–Ω–∫–∞:** `img.png` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üîß Troubleshooting

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Render Dashboard
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω—ã

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å `requirements.txt`
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤–µ—Ä—Å–∏—è Python 3.11+

### –ë–æ—Ç –ø–∞–¥–∞–µ—Ç
- –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: Render Dashboard ‚Üí Logs
- –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω Telegram –∏ API –∫–ª—é—á Perplexity

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
BOT/
‚îú‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ telegram_bot.py   # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ config.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ secrets.py        # API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ database.py       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ news_collector.py # –°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ ai_filter.py      # AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ models.py         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ localization.py   # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è RU/EN
‚îú‚îÄ‚îÄ utils.py          # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ img.png           # –ö–∞—Ä—Ç–∏–Ω–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
‚îú‚îÄ‚îÄ requirements.txt  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ runtime.txt       # –í–µ—Ä—Å–∏—è Python
‚îú‚îÄ‚îÄ Procfile          # –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ RENDER_GUIDE.md   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –û—Ç–∫—Ä–æ–π Telegram –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –í—ã–±–µ—Ä–∏ —è–∑—ã–∫, –Ω–∞–∂–º–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
4. –í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å
5. –ì–æ—Ç–æ–≤–æ! üéâ
